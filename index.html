<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Macchina Acquisizione ‚Äî Programma Operativo (Torino + Valle di Susa)</title>
  <style>
    :root { --bg:#0b0f19; --card:#121a2a; --muted:#93a4c7; --txt:#e9eefc; --ok:#34d399; --warn:#fbbf24; --bad:#fb7185; --line:#22304d; }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",sans-serif;background:linear-gradient(180deg,#070a12 0%, #0b0f19 40%, #070a12 100%);color:var(--txt)}
    header{padding:20px 18px;border-bottom:1px solid var(--line);position:sticky;top:0;background:rgba(11,15,25,.92);backdrop-filter: blur(8px);z-index:5}
    h1{margin:0;font-size:18px;letter-spacing:.2px}
    .sub{margin:6px 0 0;color:var(--muted);font-size:13px}
    main{max-width:1100px;margin:0 auto;padding:16px}
    .grid{display:grid;grid-template-columns:1.1fr .9fr;gap:14px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .card{background:rgba(18,26,42,.88);border:1px solid var(--line);border-radius:14px;padding:14px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:flex-end}
    label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    input,select,textarea{width:100%;padding:10px 10px;border-radius:10px;border:1px solid #2a3b5f;background:#0b1220;color:var(--txt);outline:none}
    textarea{min-height:84px;resize:vertical}
    .btn{appearance:none;border:1px solid #2a3b5f;background:#0b1220;color:var(--txt);padding:10px 12px;border-radius:10px;cursor:pointer}
    .btn:hover{border-color:#3c568d}
    .btn.primary{background:linear-gradient(180deg,#1b2a4a,#111b33);border-color:#3c568d}
    .btn.ok{border-color:rgba(52,211,153,.6)}
    .btn.warn{border-color:rgba(251,191,36,.6)}
    .btn.bad{border-color:rgba(251,113,133,.7)}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--line);border-radius:999px;background:#0b1220;color:var(--muted);font-size:12px}
    .pill .dot{width:8px;height:8px;border-radius:50%}
    .dot.ok{background:var(--ok)} .dot.warn{background:var(--warn)} .dot.bad{background:var(--bad)}
    .section{margin-top:12px}
    .section h2{margin:0 0 10px;font-size:15px}
    details{border:1px solid var(--line);border-radius:12px;background:#0b1220;margin:10px 0;overflow:hidden}
    summary{list-style:none;cursor:pointer;padding:12px 12px;display:flex;justify-content:space-between;gap:10px;align-items:center}
    summary::-webkit-details-marker{display:none}
    .sumLeft{display:flex;flex-direction:column;gap:4px}
    .sumTitle{font-weight:650;font-size:13px}
    .sumHint{color:var(--muted);font-size:12px}
    .sumRight{display:flex;gap:8px;align-items:center}
    .tag{font-size:11px;color:var(--muted);border:1px solid var(--line);padding:4px 8px;border-radius:999px}
    .content{padding:12px;border-top:1px solid var(--line)}
    .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;background:#0a0f1c;border:1px solid #243252;color:var(--txt);padding:2px 6px;border-radius:8px;font-size:12px}
    pre{margin:10px 0 0;white-space:pre-wrap;word-break:break-word;background:#070c16;border:1px solid #22304d;border-radius:12px;padding:12px;color:#d9e4ff}
    .mini{color:var(--muted);font-size:12px;margin-top:8px}
    .toast{position:fixed;right:14px;bottom:14px;background:#0b1220;border:1px solid var(--line);padding:10px 12px;border-radius:12px;color:var(--txt);font-size:13px;display:none;z-index:10}
    .split{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:760px){.split{grid-template-columns:1fr}}
  </style>
</head>
<body>
<header>
  <h1>Macchina Acquisizione ‚Äî Programma Operativo (HTML)</h1>
  <div class="sub">Copia & incolla guidato: <span class="kbd">ChatGPT</span> ‚Üí testi IT ‚Ä¢ <span class="kbd">Canva AI</span> ‚Üí grafica EN ‚Ä¢ Controllo umano + Kill Switch</div>
</header>

<main>
  <div class="grid">
    <!-- LEFT: CONTROL PANEL -->
    <div class="card">
      <div class="row">
        <div style="flex:1;min-width:240px">
          <label>Area operativa</label>
          <select id="area">
            <option value="Torino">Torino</option>
            <option value="Valle di Susa">Valle di Susa</option>
            <option value="Torino + Valle di Susa" selected>Torino + Valle di Susa</option>
          </select>
        </div>
        <div style="flex:1;min-width:200px">
          <label>Lingua grafica (Canva)</label>
          <input id="langCanva" value="English" />
        </div>
        <div style="flex:1;min-width:220px">
          <label>Lingua testi (pubblico)</label>
          <input id="langTxt" value="Italiano" />
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <div style="flex:1;min-width:260px">
          <label>WhatsApp / Telefono (pubblico)</label>
          <input id="phone" placeholder="+39..." />
        </div>
        <div style="flex:1;min-width:260px">
          <label>Email (pubblica)</label>
          <input id="email" placeholder="info@..." />
        </div>
        <div style="flex:1;min-width:260px">
          <label>Link Form (opt-in) / QR</label>
          <input id="formLink" placeholder="https://..." />
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <div style="flex:1;min-width:260px">
          <label>Nome firma (facoltativo)</label>
          <input id="sign" placeholder="Nome e Cognome" />
        </div>
        <div style="flex:1;min-width:260px">
          <label>Stile (1 riga)</label>
          <input id="style" value="Utile, locale, neutro. Zero vendita aggressiva. CTA soft verso checklist." />
        </div>
      </div>

      <div class="row" style="margin-top:10px">
        <button class="btn primary ok" id="save">Salva impostazioni</button>
        <button class="btn warn" id="fillDemo">Compila esempio</button>
        <span class="pill" id="killPill"><span class="dot ok"></span><span id="killTxt">KILL SWITCH: OFF</span></span>
        <button class="btn bad" id="toggleKill">Toggle Kill Switch</button>
      </div>

      <div class="mini">
        Regola: se Kill Switch = ON ‚Üí non pubblicare/contattare. Solo generazione bozze.
      </div>
    </div>

    <!-- RIGHT: DAILY RUN -->
    <div class="card">
      <div class="section">
        <h2>Avvio quotidiano (08:00)</h2>
        <div class="split">
          <div>
            <div class="pill"><span class="dot ok"></span>1) Genera testi (ChatGPT)</div>
            <div class="mini">Apri ChatGPT ‚Üí copia prompt ‚Üí incolla ‚Üí ottieni testi IT.</div>
            <button class="btn primary" id="copyDailyChatGPT">Copia Prompt Giornaliero (ChatGPT)</button>
          </div>
          <div>
            <div class="pill"><span class="dot warn"></span>2) Genera grafica (Canva AI)</div>
            <div class="mini">Apri Canva ‚Üí Canva AI / Magic Design ‚Üí incolla prompt EN.</div>
            <button class="btn primary" id="copyDailyCanva">Copia Prompt Grafica (Canva AI)</button>
          </div>
        </div>
        <div style="margin-top:12px" class="split">
          <div>
            <div class="pill"><span class="dot ok"></span>3) Inbox + consenso</div>
            <div class="mini">Risposte pronte (GDPR-safe) per DM/WhatsApp/email.</div>
            <button class="btn" id="copyInbox">Copia Risposta Inbox + Consenso</button>
          </div>
          <div>
            <div class="pill"><span class="dot warn"></span>4) Territorio ‚ÄúAl residente‚Äù</div>
            <div class="mini">Volantino + lettera non nominativa + QR/form.</div>
            <button class="btn" id="copyTerritoryPack">Copia Pacchetto Territorio (testi)</button>
          </div>
        </div>

        <div style="margin-top:12px" class="row">
          <button class="btn ok" id="approveAll">APPROVA TUTTO (oggi)</button>
          <button class="btn bad" id="blockAll">BLOCCA TUTTO (oggi)</button>
          <button class="btn" id="exportTxt">Esporta ‚Äúfile di testo‚Äù (TXT)</button>
        </div>

        <div class="mini">
          ‚ÄúEsporta TXT‚Äù crea un file locale con tutte le bozze (copiabile in Notion/Drive).
        </div>
      </div>
    </div>
  </div>

  <!-- PROCEDURES -->
  <div class="card section">
    <h2>Procedure (aprire ‚Üí copiare ‚Üí incollare)</h2>

    <details open>
      <summary>
        <div class="sumLeft">
          <div class="sumTitle">Programma: Prompt Giornaliero ChatGPT (genera tutto)</div>
          <div class="sumHint">üìç DOVE: ChatGPT ‚Üí Copia & incolla ‚Üí Output: testi IT completi</div>
        </div>
        <div class="sumRight">
          <span class="tag">IT</span>
          <button class="btn" type="button" onclick="copyFrom('dailyChatGPT')">Copia</button>
        </div>
      </summary>
      <div class="content">
        <pre id="dailyChatGPT"></pre>
      </div>
    </details>

    <details>
      <summary>
        <div class="sumLeft">
          <div class="sumTitle">Programma: Prompt Canva AI (grafica)</div>
          <div class="sumHint">üìç DOVE: Canva ‚Üí Canva AI / Magic Design ‚Üí Copia & incolla</div>
        </div>
        <div class="sumRight">
          <span class="tag">EN</span>
          <button class="btn" type="button" onclick="copyFrom('dailyCanva')">Copia</button>
        </div>
      </summary>
      <div class="content">
        <pre id="dailyCanva"></pre>
      </div>
    </details>

    <details>
      <summary>
        <div class="sumLeft">
          <div class="sumTitle">Programma: Commenti Strategici (10) per post pubblici</div>
          <div class="sumHint">üìç DOVE: ChatGPT ‚Üí Copia & incolla ‚Üí poi incolla come commenti (pubblici)</div>
        </div>
        <div class="sumRight">
          <span class="tag">IT</span>
          <button class="btn" type="button" onclick="copyFrom('commentsPrompt')">Copia</button>
        </div>
      </summary>
      <div class="content">
        <pre id="commentsPrompt"></pre>
      </div>
    </details>

    <details>
      <summary>
        <div class="sumLeft">
          <div class="sumTitle">Programma: Script Campanello (15 sec)</div>
          <div class="sumHint">üìç DOVE: ChatGPT ‚Üí Copia & incolla ‚Üí Output: 3 frasi max</div>
        </div>
        <div class="sumRight">
          <span class="tag">IT</span>
          <button class="btn" type="button" onclick="copyFrom('doorbellPrompt')">Copia</button>
        </div>
      </summary>
      <div class="content">
        <pre id="doorbellPrompt"></pre>
      </div>
    </details>

    <details>
      <summary>
        <div class="sumLeft">
          <div class="sumTitle">Programma: Checklist gratuita (lead magnet)</div>
          <div class="sumHint">üìç DOVE: ChatGPT ‚Üí Copia & incolla ‚Üí Output: 7 punti</div>
        </div>
        <div class="sumRight">
          <span class="tag">IT</span>
          <button class="btn" type="button" onclick="copyFrom('checklistPrompt')">Copia</button>
        </div>
      </summary>
      <div class="content">
        <pre id="checklistPrompt"></pre>
      </div>
    </details>

    <details>
      <summary>
        <div class="sumLeft">
          <div class="sumTitle">Programma: Inbox + Consenso (S√¨/No) GDPR-safe</div>
          <div class="sumHint">üìç DOVE: ChatGPT ‚Üí Copia & incolla ‚Üí Output: template risposta</div>
        </div>
        <div class="sumRight">
          <span class="tag">IT</span>
          <button class="btn" type="button" onclick="copyFrom('inboxPrompt')">Copia</button>
        </div>
      </summary>
      <div class="content">
        <pre id="inboxPrompt"></pre>
      </div>
    </details>

    <details>
      <summary>
        <div class="sumLeft">
          <div class="sumTitle">Programma: Pacchetto Territorio (Volantino + Lettera)</div>
          <div class="sumHint">üìç DOVE: ChatGPT ‚Üí Copia & incolla ‚Üí Output: testo volantino + lettera</div>
        </div>
        <div class="sumRight">
          <span class="tag">IT</span>
          <button class="btn" type="button" onclick="copyFrom('territoryPrompt')">Copia</button>
        </div>
      </summary>
      <div class="content">
        <pre id="territoryPrompt"></pre>
      </div>
    </details>

    <details>
      <summary>
        <div class="sumLeft">
          <div class="sumTitle">Programma: Spegnimento di Sicurezza (Kill Switch)</div>
          <div class="sumHint">üìç DOVE: qui ‚Üí regole operative da applicare sempre</div>
        </div>
        <div class="sumRight">
          <span class="tag">RULES</span>
          <button class="btn" type="button" onclick="copyFrom('killRules')">Copia</button>
        </div>
      </summary>
      <div class="content">
        <pre id="killRules"></pre>
      </div>
    </details>
  </div>

  <div class="toast" id="toast">Copiato ‚úÖ</div>
</main>

<script>
  // ---------- State ----------
  const $ = (id) => document.getElementById(id);

  const state = {
    kill: false,
    approvedToday: null, // 'APPROVED' | 'BLOCKED' | null
  };

  function loadSettings() {
    const saved = JSON.parse(localStorage.getItem("macchina_settings") || "{}");
    if (saved.area) $("area").value = saved.area;
    if (saved.langCanva) $("langCanva").value = saved.langCanva;
    if (saved.langTxt) $("langTxt").value = saved.langTxt;
    if (saved.phone) $("phone").value = saved.phone;
    if (saved.email) $("email").value = saved.email;
    if (saved.formLink) $("formLink").value = saved.formLink;
    if (saved.sign) $("sign").value = saved.sign;
    if (saved.style) $("style").value = saved.style;
    if (typeof saved.kill === "boolean") state.kill = saved.kill;
    renderKill();
    renderAllPrompts();
  }

  function saveSettings() {
    const saved = {
      area: $("area").value,
      langCanva: $("langCanva").value,
      langTxt: $("langTxt").value,
      phone: $("phone").value.trim(),
      email: $("email").value.trim(),
      formLink: $("formLink").value.trim(),
      sign: $("sign").value.trim(),
      style: $("style").value.trim(),
      kill: state.kill
    };
    localStorage.setItem("macchina_settings", JSON.stringify(saved));
    toast("Salvato ‚úÖ");
    renderAllPrompts();
  }

  function fillDemo() {
    $("area").value = "Torino + Valle di Susa";
    $("phone").value = "+39 3XX XXX XXXX";
    $("email").value = "info@esempio.it";
    $("formLink").value = "https://forms.gle/tuo-link";
    $("sign").value = "Nome Cognome";
    $("style").value = "Utile, locale, neutro. Zero vendita aggressiva. CTA soft verso checklist.";
    saveSettings();
  }

  function toggleKill() {
    state.kill = !state.kill;
    saveSettings();
    renderKill();
    toast(state.kill ? "Kill Switch ON üõë" : "Kill Switch OFF ‚úÖ");
  }

  function renderKill() {
    const pill = $("killPill");
    const dot = pill.querySelector(".dot");
    const txt = $("killTxt");
    if (state.kill) {
      dot.className = "dot bad";
      txt.textContent = "KILL SWITCH: ON (STOP)";
    } else {
      dot.className = "dot ok";
      txt.textContent = "KILL SWITCH: OFF";
    }
  }

  function todayISO() {
    const d = new Date();
    const pad = (n) => String(n).padStart(2,"0");
    return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
  }

  // ---------- Prompts ----------
  function getVars() {
    return {
      area: $("area").value,
      phone: $("phone").value.trim() || "[INSERISCI WHATSAPP]",
      email: $("email").value.trim() || "[INSERISCI EMAIL]",
      formLink: $("formLink").value.trim() || "[INSERISCI LINK FORM]",
      sign: $("sign").value.trim() || "[FIRMA FACOLTATIVA]",
      style: $("style").value.trim() || "Utile, locale, neutro.",
      date: todayISO(),
      kill: state.kill ? "ON" : "OFF",
    };
  }

  function renderAllPrompts() {
    const v = getVars();

    const dailyChatGPT = `
Sei una IA centrale per acquisizione immobiliare.
DEVI generare SOLO testi in ITALIANO pronti da incollare.
Area: ${v.area}
Data: ${v.date}

VINCOLI (OBBLIGATORI):
- zero vendita aggressiva
- zero promesse o prezzi
- zero contatto a freddo
- solo inbound e consenso (GDPR)
- tono: ${v.style}

CTA STANDARD (sempre uguale, soft):
"Richiedi la checklist gratuita: ${v.formLink} oppure WhatsApp ${v.phone}"

GENERA QUESTI ASSET (in quest'ordine), con intestazione chiara per ciascuno:

1) POST_SOCIAL (max 120 parole) ‚Äî 1 concetto, chiusura CTA soft.
2) POST_GROUPI (max 80 parole) ‚Äî tono aiuto, zero promozione.
3) TESTO_VOLANTINO "AL RESIDENTE" (max 120 parole) ‚Äî per cassetta postale, QR/form.
4) LETTERA "AL RESIDENTE" (max 180 parole) ‚Äî senza nomi, cordiale.
5) SCRIPT_CAMPANELLO (max 15 secondi, 3 frasi) ‚Äî domanda finale aperta.
6) COMMENTI_STRATEGICI (10) ‚Äî risposte utili a post pubblici; chiusura: "se vuoi ti giro la checklist".
7) CHECKLIST_GRATUITA (7 punti) ‚Äî pratica, semplice, locale.
8) INBOX_REPLY + CONSENSO (S√¨/No) ‚Äî tono naturale, non legaleggiante.

OUTPUT:
- solo testi finali
- nessuna spiegazione
- nessuna analisi
`.trim();

    const dailyCanva = `
Minimal real estate design for a local Italian area.
Clean and professional. White background, neutral colors.
Modern sans-serif typography. Friendly and informative tone, not salesy.

Layout:
- clear headline at the top
- short informational text
- bullet points
- QR code placeholder (link to form)
- contact details area

Format: A4 vertical for flyer + a variant square for social post.
Local community feeling.
`.trim();

    const commentsPrompt = `
Genera 10 commenti brevi in italiano per rispondere a post pubblici di persone che parlano di vendita casa.
Area: ${v.area}
Tono: utile, locale, mai promozionale.
Vincoli:
- non chiedere dati
- non spingere servizi
- chiusura soft: "se vuoi ti giro una checklist gratuita: ${v.formLink}"
Output: lista numerata 1-10, una sola frase ciascuno.
`.trim();

    const doorbellPrompt = `
Scrivi uno script da campanello (italiano) per ${v.area}.
Durata: massimo 15 secondi.
Vincoli:
- 3 frasi massimo
- tono educato
- 1 domanda finale aperta
- obiettivo: aprire conversazione neutra, non vendere
Output: solo lo script.
`.trim();

    const checklistPrompt = `
Crea una checklist gratuita in italiano:
"Vendere casa a ${v.area}: cosa sapere prima di decidere"
Contenuto:
- 7 punti numerati
- pratico e semplice
- include: documenti, prezzo, tempi, visite, errori comuni
CTA finale soft: ${v.formLink} oppure WhatsApp ${v.phone}
Output: solo checklist.
`.trim();

    const inboxPrompt = `
Scrivi un messaggio inbox (italiano) per chi chiede info.
Area: ${v.area}
Obiettivo: inviare materiale + chiedere consenso ricontatto.
Vincoli:
- tono naturale, umano
- domanda chiara S√¨/No
- zero linguaggio legale
Includi link: ${v.formLink}
Includi WhatsApp: ${v.phone}
Output: solo il messaggio.
`.trim();

    const territoryPrompt = `
Scrivi in italiano due testi per territorio (non nominativi), area ${v.area}:

A) VOLANTINO "AL RESIDENTE" (max 120 parole)
- informativo
- 1 concetto
- CTA soft: QR/form ${v.formLink} e WhatsApp ${v.phone}

B) LETTERA "AL RESIDENTE" (max 180 parole)
- tono umano
- nessun nome destinatario
- chiusura con firma: ${v.sign}
Output: separa chiaramente A) e B), solo testi finali.
`.trim();

    const killRules = `
KILL SWITCH (stato attuale: ${v.kill})

REGOLE:
1) Se KILL=ON ‚Üí NON pubblicare, NON inviare messaggi, NON contattare nessuno.
2) Se KILL=ON ‚Üí puoi SOLO generare bozze e salvarle per revisione.
3) Se un utente chiede stop/opt-out ‚Üí KILL=ON finch√© non gestito.
4) Se c'√® dubbio su privacy/consenso ‚Üí KILL=ON.
5) Ripartenza solo con APPROVAZIONE umana.

OPERATIVIT√Ä:
- Pubblica solo dopo "APPROVA".
- Niente contatti a freddo.
- Solo inbound e consenso.
`.trim();

    $("dailyChatGPT").textContent = dailyChatGPT;
    $("dailyCanva").textContent = dailyCanva;
    $("commentsPrompt").textContent = commentsPrompt;
    $("doorbellPrompt").textContent = doorbellPrompt;
    $("checklistPrompt").textContent = checklistPrompt;
    $("inboxPrompt").textContent = inboxPrompt;
    $("territoryPrompt").textContent = territoryPrompt;
    $("killRules").textContent = killRules;
  }

  // ---------- Copy helpers ----------
  async function copyText(text) {
    await navigator.clipboard.writeText(text);
    toast("Copiato ‚úÖ");
  }
  function copyFrom(id) {
    const t = $(id).textContent;
    copyText(t);
  }
  function toast(msg) {
    const el = $("toast");
    el.textContent = msg;
    el.style.display = "block";
    clearTimeout(window.__toastTimer);
    window.__toastTimer = setTimeout(() => el.style.display = "none", 1100);
  }

  // ---------- Export TXT ----------
  function exportTxt() {
    const v = getVars();
    const blocks = [
      `# MACCHINA ACQUISIZIONE ‚Äî ${v.area} ‚Äî ${v.date}`,
      `# KILL SWITCH: ${v.kill}`,
      "",
      "## PROMPT CHATGPT (giornaliero)",
      $("dailyChatGPT").textContent,
      "",
      "## PROMPT CANVA AI (grafica)",
      $("dailyCanva").textContent,
      "",
      "## PROMPT COMMENTI",
      $("commentsPrompt").textContent,
      "",
      "## PROMPT CAMPANELLO",
      $("doorbellPrompt").textContent,
      "",
      "## PROMPT CHECKLIST",
      $("checklistPrompt").textContent,
      "",
      "## PROMPT INBOX",
      $("inboxPrompt").textContent,
      "",
      "## PROMPT TERRITORIO",
      $("territoryPrompt").textContent,
      "",
      "## KILL RULES",
      $("killRules").textContent
    ].join("\n");

    const blob = new Blob([blocks], {type:"text/plain;charset=utf-8"});
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = `macchina_${v.date}.txt`;
    document.body.appendChild(a);
    a.click();
    a.remove();
    toast("TXT esportato ‚úÖ");
  }

  // ---------- Approve/Block (local) ----------
  function approveAll() {
    state.approvedToday = "APPROVED";
    toast("APPROVATO ‚úÖ (oggi)");
  }
  function blockAll() {
    state.approvedToday = "BLOCKED";
    toast("BLOCCATO üõë (oggi)");
  }

  // ---------- Buttons ----------
  $("save").addEventListener("click", saveSettings);
  $("fillDemo").addEventListener("click", fillDemo);
  $("toggleKill").addEventListener("click", toggleKill);

  $("copyDailyChatGPT").addEventListener("click", () => copyFrom("dailyChatGPT"));
  $("copyDailyCanva").addEventListener("click", () => copyFrom("dailyCanva"));
  $("copyInbox").addEventListener("click", () => copyFrom("inboxPrompt"));
  $("copyTerritoryPack").addEventListener("click", () => copyFrom("territoryPrompt"));

  $("approveAll").addEventListener("click", approveAll);
  $("blockAll").addEventListener("click", blockAll);
  $("exportTxt").addEventListener("click", exportTxt);

  // Live update prompts when settings change
  ["area","langCanva","langTxt","phone","email","formLink","sign","style"].forEach(id=>{
    $(id).addEventListener("input", () => { renderAllPrompts(); });
    $(id).addEventListener("change", () => { renderAllPrompts(); });
  });

  loadSettings();
</script>
</body>
</html>
