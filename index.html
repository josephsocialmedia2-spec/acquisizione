let zoomValue = 1.1;

const zoomSel = document.getElementById("zoomLevel");
if (zoomSel) {
  zoomValue = Number(zoomSel.value) || 1.1;
  zoomSel.addEventListener("change", (e) => {
    zoomValue = Number(e.target.value) || 1.0;
  });
}

// dentro al tuo loop di disegno canvas:
function drawVideoZoomed(videoEl, ctx, W, H) {
  if (!videoEl || videoEl.readyState < 2) {
    ctx.fillStyle = "black";
    ctx.fillRect(0, 0, W, H);
    return;
  }
  const vw = videoEl.videoWidth || 1280;
  const vh = videoEl.videoHeight || 720;

  const z = Math.max(1, Math.min(zoomValue, 3)); // clamp
  const srcW = vw / z;
  const srcH = vh / z;
  const srcX = (vw - srcW) / 2;
  const srcY = (vh - srcH) / 2;

  ctx.drawImage(videoEl, srcX, srcY, srcW, srcH, 0, 0, W, H);
}
